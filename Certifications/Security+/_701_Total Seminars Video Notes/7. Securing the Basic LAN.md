
# Data Protection

Only thing that isn't data, are the executable codes for programs.

## Data at rest
- Data on mass storage: HDD, SSD
- No program interacting with data
- Proprietary information

## Data in use / computation
- Software that is running and doing something to the data
- Often unencrypted. Bad guys try to see data while it's in RAM

## Data in transit\
- Data is moving from one system to another
- Sniffing
- Hack and Decrypt the data
- Perform man in the middle attacks

# Cryptographic Methods
How do you send a symmetric key?
## Session Key
- In-Band: Send the key with the encrypted data
	- Not smart
	- Risky
- Out-of-band: Delivering things in person
	- Pointless
###### Symmetric encryption is the primary way we encrypt data

## Ephemeral Key
Temporary
Provides perfect forward secrecy
- A cracked key from 6 months ago is useless today

## Asymmetric Encryption
#### Uses a key pair
- Public Key
- Private Key
###### Public key is only used to encrypt
###### Private key is only used to decrypt
###### Asymmetric encryption is used to send a secure session key
- a little slow

## Cryptosystem
The key is defined, 
Highly defined process that programs can do, to actually make cryptography happen in the real world

# Symmetric Cryptosystems

## Symmetric key algorithm
Any key that is used to encrypt and decrypt

Ex: Word document
#### Block
- Encrypts data in **chunks**
- Symmetric **block** algorithm
- Data Encryption Standard (DES)

## Steps for DES
1.  Initial Permutation
2. Create a sub key
3. Perform a Feistel function
4. Then perform an expansion function
5. Apply S Boxes
6. Perform final permutation
**Incredibly complicated**

## Symmetric Block Algorithms
#### Other types of block encryption
- DES
- Blowfish
- Triple DES (3DES)
Defines by
- Key length
- Block size
- Number of rounds

The larger the block, the faster the encryption
The number of rounds
![[Pasted image 20240714195919.png]]
![[Pasted image 20240714195938.png]]
![[Pasted image 20240714200015.png]]

## Advanced Encryption Standard
![[Pasted image 20240714200239.png]]
The bigger the key size, the bigger the security

### Alternative to block ciphers

## Symmetric Key Cryptosystems
#### Streaming
- Encrypt one bit at a time
- Popular in wireless networking
- **RC4**
- Used to be faster than block cipher
![[Pasted image 20240714200445.png]]

# Symmetric Block Modes
(**Probably not on exam**)

#### Electronic Code Book (ECB)
Running into patterns? By running the same encryption on the same data??
![[Pasted image 20240715161647.png]]
He showed an example where every pixel is encrypted, but we can still figure out what the image is supposed to be

Don't use ECB with symmetric encryption. Instead, use **block modes**
- Encrypt something, and then use that encryption to encrypt something else

#### Cipher Block Chaining (CBC)
#### Cipher Feedback (CFB)
#### Output Feedback (OF)
#### Counter (CTR)

Supposed to get around the limits of CBC. 
**Nobody uses ECB anymore**

# Asymmetric Cryptosystems

AES requires people to use the same key. Symmetric encryption

### This cryptography uses 2 keys
Generate 2 keys, public key you give to anyone to encrypt. 

## Asymmetric Cryptography
#### RSA uses Factoring
![[Pasted image 20240715162322.png]]
![[Pasted image 20240715164138.png]]


## Authentication
Along with the keys, they would encrypt with the private key, send the encrypted stuff with the public key to prove their identity
This is called a **Digital Signature**

RSA with small keys are crackable
###### Secure RSA uses 4,096 bits minimum
- These are big, create overhead, slow things down

## Elliptic-Curve Cryptography (ECC)
![[Pasted image 20240715164536.png]]


# Understanding Digital Certificates
Server sends a client our public key

Two problems: 
1. How do we know the public key actually came from the servers private key?
2.  Is this really the website we think we're on?

One situation where it's not just the private key decrypts and the public key encrypts
- Use private key to encrypt the web page we're sending to the client and hash it, then send the hash along with the public key.
- **Digital Signature**
	- Hash that we send with the public key

But is it really the website we think it is? How do we know who and what is out there?

###### This is when we bring in a 3rd party

Usually you get a signature, you get a key, a hash and a digital signature from a trusted 3rd party

##### This becomes a **Digital Certificate**

##### You can use your own digital signature again for the 3rd party signer to create a **Self Signed Certificate**
- Lets say you have an internal website that only your techs access
- Why do you need a 3rd party signature?

# Trust Models

## Self Signed Certificate
I don't trust anyone, I'm gonna put my signature for me spot on the certificate, and the 3rd party slot
- In a public environment, noone will trust you

There is Web of Trust, and PKI

## Web of trust
Often seen in email
![[Pasted image 20240715170544.png]]
*Lots of people who trust each other*
![[Pasted image 20240715170558.png]]
Used in email, but not popular. Uses lots of responsible on indiviudal people
**Did not take off**

###### It was replaced with PKI

## PKI
Certificate authorities
![[Pasted image 20240715170712.png]]
Everybody knows these companies and trust them.
They get busy, so inbetween the certificate authorites (**CA**), there are Intermediate certificate authorities (**ICA**)
![[Pasted image 20240715170754.png]]

# Public Key Infrastructure

**Not a standard**, It's an idea of how things should be.

## Public Key Cryptography Standards (PKCS)

The real certificate authority is often taken offline because of how precious it is, and it's the intermediate certificate authorities that handle everything

Pyramid goes CA at the top, then ICA, but there's a 3rd authority called **Registration authority (RA)**
- Now the ICAs are getting too busy too and now we have RAs to help clients register new certificates

###### This creates a setup called **Certificate Chaining**

# Certificate Types
Talking about the lock icon on browsers
![[Pasted image 20240715171410.png]]
![[Pasted image 20240715171424.png]]
*It tells us what the certificate is for

### All certificates are based on X.509 standard

Comodo is a website that issues certificates.
![[Pasted image 20240715173539.png]]
They create Domain Validation (DV) certificates

## Domain Validation Certificates
Most basic.
We ask for a certificate and it will make one. 
**Only good for one domain**

## Wildcard certificates
All the different variations of a website are registered
- Not the best option, hackers can spoof a bad website using your domain name

## Extended Validation (EV) certificate
Goes through a lot of work
Looking addresses, querying the website to check for websites, get a phone call.
More expensive, but comodo will insure their websites, and if you get hacked there is protection offered.
**Getting an EV certificate is a big deal and gives you more confidence when browsing websites**

## Subject Alternative Name (SAN) certificate
Alternative option
It's like a wildcard but more limited.
- www.totelsem.com
- This is a great server.com
- However many you add
Also popular with emails

###### There are more certificates, but these are on the exam

## E-mail certificates
Not as popular as they used to be.
Outlook email address, you can ask comodo to send you an email client to send encrypted emails. 
You can have someone send you a signed email with a certificate on the bottom. Now you have their public key and you can send encrypted emails. 

People used to encrypt email servers. Why do that when you can just encrypt point to point and not have to worry about other people encrypting their servers

## Code-Signing certificate
Certificates for Executable programs. Windows does this.  Microsoft will go to whoever writes the software to verify them, and then create a certificate for them
![[Pasted image 20240715184159.png]]

Hardware also does this
###### Machine/Computer/Hardware certificate
We're going to look at a device driver. Where looking for files with the SAT extension. They're known as catalog files
![[Pasted image 20240715184722.png]]
Checking the properties allows us to see the certificate
![[Pasted image 20240715184738.png]]
##### User certificates
##### Wireless network certificates
- You can put certificates on the access point
- Along with devices on the network
- PAIN

**Get a certificate based on what you're doing**

You might import certificates, enable a feature. 

# Touring Certificates 

Microsoft Managment Console allows us to view certificates
![[Pasted image 20240715184947.png]]
This opens certificate manager
- Other people
- IAC
- Trusted root
- Untrested publishers
![[Pasted image 20240715185016.png]]
We're now looking at the certifiacete

- Who it's by
- When it was issued
- If we look at the details we can see this info
![[Pasted image 20240715185057.png]]
- We can look at the signature algorithm along with the Hash
![[Pasted image 20240715185123.png]]
We can look at the thumb print as a serial number for this certificate. We can revoke certificates using this info
![[Pasted image 20240715185157.png]]
All of this helps us confirm that it's a valid certificate. Check if its valid or revoked

You can add or export certificates
Deleting or uninstalling allows us to remove certificates we no longer need.

## Personal certificates
Can be used as an ID card 

## Trusted root CAs
- You normally download this when updating windows versions
- Sometimes you have to download the certificates yourself when setting up VPN connections

Sometimes we have to share our personal certificate
In certificate manager you can export. Choose the format you want to export in. Is it a Windows system? Linux?

Our system will download the needed systems during system updates

If we setup coorporaate VPNs, we have to setup the certifactes ourselves.
Having the certificates on our systems speeds up the process of getting on the internet.
It's essential that we occasionally check up on our certificates and make sure they're from trusted sources.

# Network Architecture Planning

## Network Architecture
Requires resilience and recovery
Achieved through capacity planning for:
- People
- Technology
- Infrastructure

## People
Plan for the right personnel with the appropriate skills
Have backup personnel to avoid to a single point of failure

## Technology
Plan for the necessary tools and resources to be available
Ensure scalability, recovery, and redundancy
Automation helps with quick responses to security events.

## Infrastructure
Ensures the physical and virtual facilities are robust, agile, and secure
Use multi-cloud solutions to avoid single points of failure and take advantage of competitive pricing and services


# The OSI Model

![[Pasted image 20240715211714.png]]

preamble warns that there's in an incoming frame. 

ethernet frames for layers 1 - 2
ethernet packets for layers 3 - 



# ARP Cache Poisoning

# Other Layer 2 Attacks

# Network Planning

# Zero Trust Network Access (ZTNA) 2.0

# Load Balancing

# Securing Network Access

# Honeypots

# Static and Dynamic Code Analysis

# Firewalls

# Proxy Servers

# Web Filtering

# Network and Port Address Translation

# IP Security (IPsec)

# SD-WAN and SASE

# Virtual Private Networks (VPNs)

# Intrusion Detection and Prevention Systems (IDS/IPS)


